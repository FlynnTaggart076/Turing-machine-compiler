Состояния
    IdleEditing
        пользователь редактирует исходник; скомпилированный результат может быть устаревшим.

    CompiledOk
        есть валидная TransitionTable от последней компиляции, ошибок нет; МТ может быть в исходном или текущем состоянии.

    CompileError
        последняя компиляция завершилась ошибками; TransitionTable либо отсутствует, либо помечена как невалидная.

    ReadyToRun
        частный случай CompiledOk, когда МТ сброшена в стартовую конфигурацию и готова к выполнению.
        (Можно не выделять отдельно и держать как флаг внутри CompiledOk, но как состояние это удобно в голове.)

    Running
        выполняются шаги МТ автоматически (по таймеру/скорости).

    Paused
        выполнение остановлено пользователем, но конфигурация МТ сохранена и можно продолжать.

    Halted
        машина остановилась (достигнут halt или нет перехода); шаги больше не выполняются, пока не будет Reset.


События (триггеры)

    Edit - изменения исходника
    Compile - запрос компиляции
    CompileSuccess / CompileFail
    Reset - сброс МТ к стартовой конфигурации (и, обычно, на стартовое состояние таблицы)
    Run - старт авто-выполнения
    Pause - пауза
    Stop - остановить выполнение и вернуть в готовое/сброшенное
    Step - один шаг
    HaltDetected - интерпретатор сообщил останов (halt / no transition)


Переходы

    IdleEditing
        Edit --> остаёмся в IdleEditing
        Compile --> CompileSuccess --> CompiledOk (или ReadyToRun, если сразу делаете reset)
        Compile --> CompileFail --> CompileError

    CompileError
        Edit --> IdleEditing
        Compile --> CompileSuccess --> CompiledOk
        Compile --> CompileFail --> остаёмся в CompileError

    CompiledOk
        Edit --> IdleEditing (таблица считается устаревшей)
        Reset --> ReadyToRun (конфигурация МТ = стартовая)
        Run --> если МТ корректно инициализирована --> Running, иначе сначала внутренний Reset, затем Running
        Step --> выполнить 1 шаг:
            если Ok --> остаёмся в CompiledOk (или Paused, если хотите после шага всегда “пауза”)
            если HaltDetected --> Halted

    ReadyToRun
        Run --> Running
        Step --> (как в CompiledOk) либо остаёмся готовыми/переходим в Halted
        Edit --> IdleEditing
        Compile --> (пере-компиляция) CompiledOk/CompileError

    Running
        Pause --> Paused
        Stop --> ReadyToRun (или CompiledOk + Reset)
        HaltDetected --> Halted
        Edit --> запрещено (блокируем ввод); альтернативно можно трактовать как Pause + переход в IdleEditing

    Paused
        Run --> Running
        Step --> выполнить 1 шаг:
        Ok --> остаёмся в Paused (типичное поведение дебаггера)
        HaltDetected --> Halted
        Stop или Reset --> ReadyToRun
        Edit --> IdleEditing

    Halted
        Reset --> ReadyToRun

    Compile (если исходник не менялся) --> обычно остаёмся в CompiledOk и можно Reset
        Edit --> IdleEditing
        Run --> либо игнор, либо трактовать как Reset --> Running (лучше явно требовать Reset)